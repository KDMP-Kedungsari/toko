<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Koperasi Desa Merah Putih - Kalurahan Kedungsari</title>
    
    <!-- Google Analytics 4 (GA4) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-JE5G9Y7YPR"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-JE5G9Y7YPR');

        // Enhanced tracking functions for products page
        function trackProductView(productName, category, price) {
            gtag('event', 'view_item', {
                currency: 'IDR',
                value: price,
                items: [{
                    item_id: productName.toLowerCase().replace(/\s+/g, '-'),
                    item_name: productName,
                    item_category: category,
                    price: price,
                    quantity: 1
                }]
            });
        }

        function trackAddToCart(productName, category, price, quantity) {
            gtag('event', 'add_to_cart', {
                currency: 'IDR',
                value: price * quantity,
                items: [{
                    item_id: productName.toLowerCase().replace(/\s+/g, '-'),
                    item_name: productName,
                    item_category: category,
                    price: price,
                    quantity: quantity
                }]
            });
        }

        function trackCategoryFilter(category) {
            gtag('event', 'filter_products', {
                event_category: 'Product Filter',
                event_label: category,
                value: 1
            });
        }

        function trackCheckout(cartTotal, itemCount) {
            gtag('event', 'begin_checkout', {
                currency: 'IDR',
                value: cartTotal,
                event_category: 'E-commerce',
                event_label: 'WhatsApp Checkout',
                items_count: itemCount
            });
        }

        function trackVideoClick(productName, videoUrl) {
            gtag('event', 'video_click', {
                event_category: 'Product Video',
                event_label: productName,
                video_url: videoUrl,
                value: 1
            });
        }

        function trackWhatsAppContact(adminName, adminPhone) {
            gtag('event', 'contact_admin', {
                event_category: 'WhatsApp Contact',
                event_label: adminName,
                admin_phone: adminPhone,
                value: 1
            });
        }
    </script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #ff6b6b, #ff8e53);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            padding: 1rem 0;
        }

        .nav-primary {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .nav-secondary {
            display: none;
            padding-top: 1rem;
            border-top: 1px solid #eee;
            margin-top: 1rem;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo img {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: 3px solid #ff6b6b;
        }

        .logo-text h1 {
            color: #ff6b6b;
            font-size: 1.5rem;
            margin-bottom: 2px;
        }

        .logo-text p {
            color: #666;
            font-size: 0.9rem;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 2rem;
            align-items: center;
        }

        .nav-menu a {
            text-decoration: none;
            color: #333;
            font-weight: 500;
            transition: all 0.3s ease;
            padding: 8px 16px;
            border-radius: 25px;
        }

        .nav-menu a:hover {
            background: linear-gradient(135deg, #ff6b6b, #ff8e53);
            color: white;
            transform: translateY(-2px);
        }

        /* Cart Button */
        .cart-button {
            position: relative;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .cart-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .cart-count {
            background: #ff6b6b;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            position: absolute;
            top: -5px;
            right: -5px;
        }
        
        .mobile-cart-button {
            width: 100%;
            justify-content: center;
            padding: 15px 0;
            font-size: 1.1rem;
        }

        /* Hero Section */
        .hero {
            margin-top: 100px;
            padding: 3rem 0;
            text-align: center;
            color: white;
        }

        .hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            animation: fadeInUp 1s ease-out;
        }

        .hero p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            opacity: 0.9;
            animation: fadeInUp 1s ease-out 0.2s both;
        }

        /* Gallery Section */
        .gallery-section {
            padding: 3rem 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 2rem;
            color: #333;
        }

        .category-filters {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 1rem;
            margin: 2rem 0;
        }

        .category-btn {
            background: rgba(255, 107, 107, 0.1);
            color: #ff6b6b;
            border: 2px solid #ff6b6b;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .category-btn.active,
        .category-btn:hover {
            background: linear-gradient(135deg, #ff6b6b, #ff8e53);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.3);
        }

        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .gallery-item {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            position: relative;
        }

        .gallery-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .gallery-item-image {
            width: 100%;
            height: 250px;
            position: relative;
            overflow: hidden;
        }

        .gallery-item-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .gallery-item:hover .gallery-item-image img {
            transform: scale(1.05);
        }
		
		/* Photo gallery button */
        .photo-gallery-btn {
            position: absolute;
            bottom: 15px;
            right: 15px;
            background: rgba(255, 255, 255, 0.95);
            border: 2px solid #ff6b6b;
            border-radius: 50%;
            width: 45px;
            height: 45px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            transition: all 0.3s ease;
            z-index: 10;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .photo-gallery-btn:hover {
            background: #ff6b6b;
            color: white;
            transform: scale(1.1) rotate(5deg);
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.4);
        }

        .badges-container {
            position: absolute;
            top: 15px;
            right: 15px;
            display: flex;
            flex-direction: column;
            gap: 5px;
            z-index: 10;
        }

        .badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            text-transform: uppercase;
            backdrop-filter: blur(10px);
            text-align: center;
            min-width: 70px;
        }

        .stock-available {
            background: rgba(40, 167, 69, 0.9);
            color: white;
        }

        .stock-low {
            background: rgba(255, 193, 7, 0.9);
            color: #333;
        }

        .stock-out {
            background: rgba(220, 53, 69, 0.9);
            color: white;
        }

        .promo-badge {
            background: rgba(255, 20, 147, 0.9);
            color: white;
            animation: pulse 2s infinite;
        }

        .new-badge {
            background: rgba(0, 123, 255, 0.9);
            color: white;
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes glow {
            from { box-shadow: 0 0 5px rgba(0, 123, 255, 0.5); }
            to { box-shadow: 0 0 20px rgba(0, 123, 255, 0.8); }
        }

        .gallery-item-content {
            padding: 1.5rem;
        }

        .item-category {
            background: linear-gradient(135deg, #ff6b6b, #ff8e53);
            color: white;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 0.8rem;
            text-transform: uppercase;
        }

        .item-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: #333;
            margin-bottom: 0.5rem;
        }

        /* New structured description styles */
        .item-description {
            margin-bottom: 1rem;
        }

        .description-list {
            list-style: none;
            padding: 0;
        }

        .description-list li {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 0.4rem;
            line-height: 1.4;
            position: relative;
            padding-left: 20px;
        }

        .description-list li::before {
            content: "‚úÖ";
            position: absolute;
            left: 0;
            color: #28a745;
            font-weight: bold;
            font-size: 0.8rem;
        }

        /* Video section styles */
        .item-video {
            margin-bottom: 1rem;
        }

        .video-link {
            display: inline-block;
            background: #ff4458;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            text-decoration: none;
            font-size: 0.8rem;
            font-weight: bold;
            transition: all 0.3s ease;
            margin-bottom: 0.5rem;
        }

        .video-link:hover {
            background: #e33d4a;
            transform: translateY(-1px);
        }

        .item-price {
            font-size: 1.4rem;
            font-weight: bold;
            color: #ff6b6b;
            margin-bottom: 1rem;
        }

        .quantity-selector {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 1rem;
        }

        .quantity-label {
            font-weight: 500;
            color: #333;
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .quantity-btn {
            background: #ff6b6b;
            color: white;
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .quantity-btn:hover {
            background: #e55656;
            transform: scale(1.1);
        }

        .quantity-input {
            width: 60px;
            text-align: center;
            padding: 8px;
            border: 2px solid #ff6b6b;
            border-radius: 8px;
            font-weight: bold;
            background: white;
            color: #333;
        }

        .add-to-cart-btn {
            width: 100%;
            background: #25d366;
            color: white;
            padding: 12px;
            border: none;
            border-radius: 25px;
            font-weight: bold;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .add-to-cart-btn:hover {
            background: #128c7e;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(37, 211, 102, 0.4);
        }

        .add-to-cart-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* Features Section */
        .features {
            padding: 4rem 0;
            background: white;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .feature-card {
            background: white;
            padding: 2rem;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            text-align: center;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
            border-color: #ff6b6b;
        }

        .feature-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #ff6b6b, #ff8e53);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
            font-size: 2rem;
        }

        .feature-card h3 {
            color: #333;
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }

        .feature-card p {
            color: #666;
            line-height: 1.6;
        }

        /* Cart Modal */
        .cart-modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
        }

        .cart-modal-content {
            background: white;
            margin: 2% auto;
            padding: 2rem;
            border-radius: 20px;
            width: 90%;
            max-width: 600px;
            max-height: 85vh;
            overflow-y: auto;
            position: relative;
        }

        .close {
            position: absolute;
            top: 15px;
            right: 25px;
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            z-index: 1001;
        }

        .close:hover {
            color: #333;
        }

        .admin-selection {
            margin: 20px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 15px;
        }

        .admin-selection h3 {
            color: #333;
            margin-bottom: 15px;
            text-align: center;
        }

        .admin-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
        }

        .admin-card {
            background: white;
            border: 2px solid #ddd;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .admin-card:hover {
            border-color: #ff6b6b;
            transform: translateY(-2px);
        }

        .admin-card.selected {
            border-color: #25d366;
            background: #e8f5e8;
        }

        .admin-name {
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }

        .admin-phone {
            font-size: 0.8rem;
            color: #666;
            margin-bottom: 5px;
        }

        .admin-status {
            font-size: 0.8rem;
            color: #28a745;
            font-weight: bold;
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid #eee;
            background: #f8f9fa;
            margin: 10px 0;
            border-radius: 10px;
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-title {
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }

        .cart-item-details {
            font-size: 0.9rem;
            color: #666;
        }

        .cart-item-quantity {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 10px 0;
        }

        .cart-quantity-btn {
            background: #ff6b6b;
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 14px;
        }

        .cart-quantity-input {
            width: 50px;
            text-align: center;
            padding: 5px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        .cart-item-price {
            font-weight: bold;
            color: #ff6b6b;
            margin-left: 15px;
        }

        .cart-item-remove {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
            margin-left: 10px;
        }

        .cart-total {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin: 20px 0;
        }

        .cart-total h3 {
            margin-bottom: 10px;
        }

        .total-amount {
            font-size: 1.5rem;
            font-weight: bold;
        }

        .cart-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
        }

        .cart-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .cart-btn-primary {
            background: #25d366;
            color: white;
        }

        .cart-btn-primary:hover {
            background: #128c7e;
        }

        .cart-btn-secondary {
            background: #6c757d;
            color: white;
        }

        .cart-btn-secondary:hover {
            background: #5a6268;
        }

        .cart-btn-danger {
            background: #e74c3c;
            color: white;
        }

        .cart-btn-danger:hover {
            background: #c0392b;
        }

        .empty-cart {
            text-align: center;
            padding: 40px;
            color: #666;
        }

        .empty-cart i {
            font-size: 48px;
            margin-bottom: 15px;
            opacity: 0.5;
        }

        /* Success notification */
        .notification {
            position: fixed;
            top: 100px;
            right: 20px;
            background: #28a745;
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            z-index: 2001;
            transform: translateX(400px);
            transition: transform 0.3s ease;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.error {
            background: #dc3545;
        }

		        /* Photo Gallery Modal */
        .gallery-modal {
            display: none;
            position: fixed;
            z-index: 3000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(5px);
        }

        .gallery-modal-content {
            background: white;
            margin: 3% auto;
            padding: 2rem;
            border-radius: 20px;
            width: 90%;
            max-width: 900px;
            max-height: 85vh;
            overflow-y: auto;
            position: relative;
        }

        .gallery-modal-header {
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #ff6b6b;
        }

        .gallery-modal-header h2 {
            color: #333;
            margin-bottom: 5px;
        }

        .gallery-modal-header p {
            color: #666;
            font-size: 0.9rem;
        }

        .photo-gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .photo-gallery-item {
            border-radius: 15px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid #e9ecef;
            background: white;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .photo-gallery-item:hover {
            transform: translateY(-5px);
            border-color: #ff6b6b;
            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.3);
        }

        .photo-gallery-item img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .photo-gallery-item:hover img {
            transform: scale(1.1);
        }

        .photo-gallery-item-info {
            padding: 15px;
            background: #f8f9fa;
        }

        .photo-gallery-item-info h4 {
            font-size: 1rem;
            color: #333;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .photo-gallery-item-info p {
            font-size: 0.85rem;
            color: #666;
            margin: 0;
            line-height: 1.4;
        }

        .gallery-empty {
            text-align: center;
            padding: 60px 20px;
            color: #999;
        }

        .gallery-empty-icon {
            font-size: 4rem;
            margin-bottom: 15px;
            opacity: 0.3;
        }

        /* Contact Section */
        .contact {
            padding: 5rem 0;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            text-align: center;
        }

        .contact-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .contact-item {
            padding: 2rem;
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }

        .contact-item h3 {
            margin-bottom: 1rem;
        }

        /* Footer */
        .footer {
            background: #333;
            color: white;
            text-align: center;
            padding: 2rem 0;
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .nav-menu {
                display: none;
            }
            
            .nav-secondary {
                display: block;
            }

            .nav-primary {
                padding-bottom: 1rem;
            }

            .hero h1 {
                font-size: 2.5rem;
            }

            .hero p {
                font-size: 1.1rem;
            }

            .section-title {
                font-size: 2rem;
            }

            .gallery-grid {
                grid-template-columns: 1fr;
            }

            .cart-modal-content {
                width: 95%;
                margin: 10% auto;
            }

            .cart-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .cart-actions {
                flex-direction: column;
            }

            .category-filters {
                justify-content: flex-start;
                overflow-x: auto;
                padding: 0 10px;
            }

            .quantity-selector {
                justify-content: space-between;
            }

            .admin-grid {
                grid-template-columns: 1fr;
            }

            .badges-container {
                right: 10px;
                top: 10px;
            }
			
			.photo-gallery-grid {
                grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
                gap: 15px;
            }

            .photo-gallery-item img {
                height: 150px;
            }

            .gallery-modal-content {
                width: 95%;
                margin: 5% auto;
                padding: 1.5rem;
            }
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="container">
            <nav class="nav-primary">
                <div class="logo">
                    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='45' fill='%23ff6b6b'/%3E%3Ctext x='50' y='60' text-anchor='middle' fill='white' font-size='40' font-weight='bold'%3EK%3C/text%3E%3C/svg%3E" alt="Logo">
                    <div class="logo-text">
                        <h1>KOPERASI DESA MERAH PUTIH</h1>
                        <p>Kalurahan Kedungsari</p>
                    </div>
                </div>
                <ul class="nav-menu">
                    <li><a href="#beranda">Beranda</a></li>
                    <li><a href="#galeri">Produk</a></li>
                    <li><a href="#tentang">Tentang</a></li>
                    <li><a href="#kontak">Kontak</a></li>
                    <li class="cart-desktop">
                        <button class="cart-button" onclick="openCart()">
                            üõí Keranjang
                            <div class="cart-count" id="cartCountDesktop">0</div>
                        </button>
                    </li>
                </ul>
            </nav>
            <nav class="nav-secondary">
                <button class="cart-button mobile-cart-button" onclick="openCart()">
                    üõí Keranjang
                    <div class="cart-count" id="cartCountMobile">0</div>
                </button>
            </nav>
        </div>
    </header>

    <section class="hero" id="beranda">
        <div class="container">
            <h1>Selamat Datang di Koperasi Desa Merah Putih</h1>
            <p>Produk berkualitas langsung dari masyarakat Kalurahan Kedungsari</p>
        </div>
    </section>

    <section class="gallery-section" id="galeri">
        <div class="container">
            <h2 class="section-title">Galeri Produk Kami</h2>

            <div class="category-filters">
                <button class="category-btn active" onclick="filterGallery('all')">Semua Produk</button>
				<button class="category-btn" onclick="filterGallery('madu')">Madu</button>
				<button class="category-btn" onclick="filterGallery('minuman')">Minuman</button>
                <button class="category-btn" onclick="filterGallery('beras')">Beras</button>
                <button class="category-btn" onclick="filterGallery('telur')">Telur</button>
                <button class="category-btn" onclick="filterGallery('ikan')">Ikan</button>
                <button class="category-btn" onclick="filterGallery('gula')">Gula</button>
                <button class="category-btn" onclick="filterGallery('minyak goreng')">Minyak Goreng</button>
                <button class="category-btn" onclick="filterGallery('sayuran')">Sayuran</button>
                <button class="category-btn" onclick="filterGallery('daging')">Daging</button>
                <button class="category-btn" onclick="filterGallery('olahan')">Olahan</button>
                <button class="category-btn" onclick="filterGallery('lainlain')">Lain-lain</button>
                <button class="category-btn" onclick="filterGallery('pertanian')">Pertanian</button>
            </div>

            <div class="gallery-grid" id="galleryGrid">
                <!-- Gallery items will be populated by JavaScript -->
            </div>
        </div>
    </section>

    <section class="features" id="tentang">
        <div class="container">
            <h2 class="section-title">Mengapa Memilih Kami?</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">üè™</div>
                    <h3>Produk Lokal Berkualitas</h3>
                    <p>Kami menyediakan produk-produk unggulan dari masyarakat lokal dengan standar kualitas terbaik</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üí∞</div>
                    <h3>Harga Terjangkau</h3>
                    <p>Harga yang bersahabat untuk semua kalangan masyarakat dengan kualitas yang tidak diragukan</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üöö</div>
                    <h3>Pengiriman Mudah</h3>
                    <p>Layanan antar yang cepat dan terpercaya untuk kemudahan berbelanja Anda</p>
                </div>
            </div>
        </div>
    </section>

    <section class="contact" id="kontak">
        <div class="container">
            <h2 class="section-title">Kontak Kami</h2>
            <div class="contact-info">
                <div class="contact-item">
                    <h3>üìç Alamat</h3>
                    <p>Jl. Raya Jogja - Wates KM 23</p>
                    <p>Kalurahan Kedungsari, Kab. Kulon Progo</p>
                </div>
                <div class="contact-item">
                    <h3>üìû Telepon</h3>
                    <p>+62 812-9683 690</p>
                    <p>+62 888-0617-4649</p>
                </div>
                <div class="contact-item">
                    <h3>‚úâÔ∏è Email</h3>
                    <p>kedungsarikdmp@gmail.com</p>
                    <p>ekokus.djogja@gmail.com</p>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Koperasi Desa Merah Putih. Hak Cipta Dilindungi Undang-Undang.</p>
        </div>
    </footer>

    <!-- Cart Modal -->
    <div id="cartModal" class="cart-modal">
        <div class="cart-modal-content">
            <span class="close" onclick="closeCart()">&times;</span>
            <h2>Keranjang Belanja üõí</h2>
            
            <div class="admin-selection">
                <h3>Pilih Admin untuk Pemesanan</h3>
                <div class="admin-grid" id="adminGrid">
                    <!-- Admin cards will be populated by JavaScript -->
                </div>
            </div>
            
            <div id="cartItemsContainer"></div>
            <div id="emptyCartMessage" class="empty-cart hidden">
                <p>Keranjang Anda kosong. Yuk, belanja sekarang!</p>
            </div>
            <div class="cart-total">
                <h3>Total Belanja:</h3>
                <span id="cartTotalAmount" class="total-amount">Rp 0</span>
            </div>
            <div class="cart-actions">
                <button class="cart-btn cart-btn-primary" onclick="checkout()">Checkout via WhatsApp</button>
                <button class="cart-btn cart-btn-secondary" onclick="closeCart()">Lanjutkan Belanja</button>
                <button class="cart-btn cart-btn-danger" onclick="clearCart()">Kosongkan Keranjang</button>
            </div>
        </div>
    </div>

	<!-- Photo Gallery Modal -->
    <div id="galleryModal" class="gallery-modal">
        <div class="gallery-modal-content">
            <span class="close" onclick="closeGallery()">&times;</span>
            <div class="gallery-modal-header">
                <h2 id="galleryTitle">Galeri Foto Produk</h2>
                <p id="gallerySubtitle">Lihat foto-foto produk kami</p>
            </div>
            <div id="photoGalleryGrid" class="photo-gallery-grid"></div>
        </div>
    </div>

    <!-- Notification -->
    <div id="notification" class="notification">
        <span id="notificationText"></span>
    </div>

    <script>
        // Data admin WhatsApp
        const adminList = [
            {
                id: 'admin-1',
                name: 'Ika Diana',
                phone: '6288802751611',
                status: 'Online',
                role: 'Admin Penjualan'
            },
            {
                id: 'admin-2',
                name: 'Eko Kusrianto',
                phone: '628129683690',
                status: 'Offline',
                role: 'Admin Penjualan'
            },
            {
                id: 'admin-3',
                name: 'Suprapto',
                phone: '62895331113616',
                status: 'Online',
                role: 'Admin Penjualan'
            },
            {
                id: 'admin-4',
                name: 'Margilan',
                phone: '6288806174649',
                status: 'Online',
                role: 'Admin Penjualan'
            },
            {
                id: 'admin-5',
                name: 'Anung',
                phone: '6285292001668',
                status: 'Online',
                role: 'Admin Penjualan'
            }
        ];

        // Data produk dengan deskripsi terstruktur dan link video
        const productGallery = [
            // Madu
            {
                id: 'madu-1',
                category: 'madu',
                title: 'Envella Madu Kita',
                description: [
                    'Madu Multiflora',
                    'Madu Asli, Murni & Alami'
                ],
                price: 55000,
                unit: 'botol',
                image: 'images/madu/madu-envella-1.jpg',
                fallbackEmoji: 'üçØ',
                stock: 'available',
                stockCount: 50,
                isPromo: false,
                isNew: true,
                videoUrl: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
                hasVideo: false,
				photos: [
                    { url: 'images/madu/madu-envella-1.jpg', caption: 'Madu Multiflora' }
                ]
            },
            {
               id: 'madu-2',
                category: 'madu',
                title: 'Envella Madu Kita',
                description: [
					'Madu + butiran be pollen',
                    'Madu Multiflora',
                    'Madu Asli, Murni & Alami'
                ],
                price: 55000,
                unit: 'botol',
                image: 'images/madu/madu-envella-2.jpg',
                fallbackEmoji: 'üçØ',
                stock: 'available',
                stockCount: 50,
                isPromo: false,
                isNew: true,
                videoUrl: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
                hasVideo: false,
				photos: [
                    { url: 'images/madu/madu-envella-2.jpg', caption: 'Madu Multiflora' }
                ]
            }, 

			// Minuman
            {
                id: 'minuman-1',
                category: 'minuman',
                title: 'Minuman Lidah Buaya',
                description: [
					'Minuman olahan Lidah Buaya',
					'Minumah segar alamai kaya manfaat'
				],
                price: 10000,
                unit: 'botol',
                image: 'images/minuman/minuman-lidah_buaya.jpg',
                fallbackEmoji: 'ü•§',
                stock: 'available',
                stockCount: 50,
				isPromo: false,
                isNew: true,
				videoUrl: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
                hasVideo: false,
				photos: [
                    { url: 'images/minuman/minuman-lidah_buaya.jpg', caption: 'Minuman Lidah Buaya botol' }
                ]
            },
			
			// Beras
            {
                id: 'beras-1',
                category: 'beras',
                title: 'Beras Putih SPHP Bulog',
                description: [
                    'Beras putih berkualitas premium dengan butiran pulen dan wangi khas',
                    'Produk dari wilayah Kedungsari yang terkenal dengan tanah subur',
                    'Tersedia dalam kemasan 5kg',
                    'Proses penggilingan modern untuk menjaga kualitas beras',
                    'Telah lulus uji kualitas SNI dan aman untuk dikonsumsi'
                ],
                price: 65000,
                unit: '5kg',
                image: 'images/beras/beras-sphp-bulog.jpg',
                fallbackEmoji: 'üåæ',
                stock: 'available',
                stockCount: 50,
                isPromo: false,
                isNew: true,
                videoUrl: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
                hasVideo: false,
				photos: [
                    { url: 'images/beras/beras-hitam-premium.jpg', caption: 'Beras SPHP Bulog kemasan 5kg dengan kualitas premium' },
                    { url: 'images/beras/beras-ketan-putih.jpg', caption: 'Butiran beras yang pulen dan wangi khas' },
                    { url: 'images/beras/beras-merah-organik.jpg', caption: 'Proses penggilingan modern untuk menjaga kualitas' }
                ]
            },
            {
                id: 'beras-2',
                category: 'beras',
                title: 'Beras Lokal Inpari 32',
                description: [
					'Beras Lokal Kualitas terbaik'
				],
                price: 13000,
                unit: 'kg',
                image: 'images/beras/beras-impari32.jpg',
                fallbackEmoji: 'üåæ',
                stock: 'available',
                stockCount: 30,
				isPromo: false,
                isNew: true,
				videoUrl: 'https://www.youtube.com/shorts/rglFAoFa5ds',
                hasVideo: true,
				photos: [
                    { url: 'images/beras/beras-premium.jpg', caption: 'Beras SPHP Bulog kemasan 5kg dengan kualitas premium' },
                    { url: 'images/beras/beras-putih-premium.jpg', caption: 'Butiran beras yang pulen dan wangi khas' },
                    { url: 'images/beras/beras-sphp-3.jpg', caption: 'Proses penggilingan modern untuk menjaga kualitas' }
                ]
            },
            {
                id: 'beras-3',
                category: 'beras',
                title: 'Beras Ketan Putih',
                description: [
					'Beras ketan putih untuk berbagai olahan tradisional dan modern'
				],
                price: 13000,
                unit: 'kg',
                image: 'images/beras/beras-ketan-putih.jpg',
                fallbackEmoji: 'üåæ',
                stock: 'out',
                stockCount: 0,
				isPromo: false,
                isNew: true,
				videoUrl: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
                hasVideo: false,
				photos: [
                    { url: 'images/beras/beras-sphp-1.jpg', caption: 'Beras SPHP Bulog kemasan 5kg dengan kualitas premium' },
                    { url: 'images/beras/beras-sphp-2.jpg', caption: 'Butiran beras yang pulen dan wangi khas' },
                    { url: 'images/beras/beras-sphp-3.jpg', caption: 'Proses penggilingan modern untuk menjaga kualitas' }
                ]
            },
			
			// Gula
            {
                id: 'gula-1',
                category: 'gula',
                title: 'Gula Pasir Putih',
                description: [
					'Gula pasir dari tebu pilihan'
				],
                price: 17500,
                unit: 'kg',
                image: 'images/gula/gula-pasir-putih.jpg',
                fallbackEmoji: 'üçØ',
                stock: 'available',
                stockCount: 50,
				isPromo: false,
                isNew: true,
				videoUrl: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
                hasVideo: false,
				photos: [
                    { url: 'images/gula/beras-sphp-1.jpg', caption: 'Beras SPHP Bulog kemasan 5kg dengan kualitas premium' },
                    { url: 'images/gula/beras-sphp-2.jpg', caption: 'Butiran beras yang pulen dan wangi khas' },
                    { url: 'images/gula/beras-sphp-3.jpg', caption: 'Proses penggilingan modern untuk menjaga kualitas' }
                ]
            },  

			// Pertanian
            {
                id: 'pertanian-1',
                category: 'pertanian',
                title: 'Pupuk Kohe',
                description: [
					'Pupuk organik ramah lingkungan untuk penyubur tanah alami',
					'Fermentasi kohe kambing'
				],
                price: 25000,
                unit: 'karung',
                image: 'images/pertanian/pupuk-kohe.jpg',
                fallbackEmoji: 'üß¥',
                stock: 'available',
                stockCount: 50,
				isPromo: false,
                isNew: true,
				videoUrl: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
                hasVideo: false,
				photos: [
                    { url: 'images/pertanian/pupuk-kohe.jpg', caption: 'Pupuk kohe kambing' }
                ]
            },
            
            // Sayuran
            {
                id: 'sayuran-1',
                category: 'sayuran',
                title: 'Kangkung Organik',
                description: [
					'Kangkung segar tanpa pestisida langsung dari kebun organik lokal'
				],
                price: 3000,
                unit: 'ikat',
                image: 'images/sayuran/kangkung-organik.jpg',
                fallbackEmoji: 'ü•¨',
                stock: 'out',
                stockCount: 0,
				isPromo: false,
                isNew: true,
				videoUrl: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
                hasVideo: false,
				photos: [
                    { url: 'images/sayuran/beras-sphp-1.jpg', caption: 'Beras SPHP Bulog kemasan 5kg dengan kualitas premium' },
                    { url: 'images/sayuran/beras-sphp-2.jpg', caption: 'Butiran beras yang pulen dan wangi khas' },
                    { url: 'images/sayuran/beras-sphp-3.jpg', caption: 'Proses penggilingan modern untuk menjaga kualitas' }
                ]
            },
            {
                id: 'sayuran-2',
                category: 'sayuran',
                title: 'Bayam Merah',
                description: [
					'Bayam merah kaya zat besi dan vitamin untuk keluarga sehat'
				],
                price: 3500,
                unit: 'ikat',
                image: 'images/sayuran/bayam-merah.jpg',
                fallbackEmoji: 'ü•¨',
                stock: 'out',
                stockCount: 0,
				isPromo: false,
                isNew: true,
				videoUrl: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
                hasVideo: false,
				photos: [
                    { url: 'images/sayuran/beras-sphp-1.jpg', caption: 'Beras SPHP Bulog kemasan 5kg dengan kualitas premium' },
                    { url: 'images/sayuran/beras-sphp-2.jpg', caption: 'Butiran beras yang pulen dan wangi khas' },
                    { url: 'images/sayuran/beras-sphp-3.jpg', caption: 'Proses penggilingan modern untuk menjaga kualitas' }
                ]
            },
            {
                id: 'sayuran-3',
                category: 'sayuran',
                title: 'Sawi Hijau',
                description: [
					'Sawi hijau segar dengan daun lebar dan renyah, cocok untuk berbagai masakan'
				],
                price: 4000,
                unit: 'ikat',
                image: 'images/sayuran/sawi-hijau.jpg',
                fallbackEmoji: 'ü•¨',
                stock: 'out',
                stockCount: 0,
				isPromo: false,
                isNew: true,
				videoUrl: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
                hasVideo: false,
				photos: [
                    { url: 'images/sayuran/beras-sphp-1.jpg', caption: 'Beras SPHP Bulog kemasan 5kg dengan kualitas premium' },
                    { url: 'images/sayuran/beras-sphp-2.jpg', caption: 'Butiran beras yang pulen dan wangi khas' },
                    { url: 'images/sayuran/beras-sphp-3.jpg', caption: 'Proses penggilingan modern untuk menjaga kualitas' }
                ]
            },
            {
                id: 'sayuran-4',
                category: 'sayuran',
                title: 'Tomat Cherry',
                description: [
					'Tomat cherry manis dan segar untuk salad atau camilan sehat'
				],
                price: 8000,
                unit: '250gr',
                image: 'images/sayuran/tomat-cherry.jpg',
                fallbackEmoji: 'üçÖ',
                stock: 'out',
                stockCount: 0,
				isPromo: false,
                isNew: true,
				videoUrl: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
                hasVideo: false,
				photos: [
                    { url: 'images/sayuran/beras-sphp-1.jpg', caption: 'Beras SPHP Bulog kemasan 5kg dengan kualitas premium' },
                    { url: 'images/sayuran/beras-sphp-2.jpg', caption: 'Butiran beras yang pulen dan wangi khas' },
                    { url: 'images/sayuran/beras-sphp-3.jpg', caption: 'Proses penggilingan modern untuk menjaga kualitas' }
                ]
            },

            // Ikan
            {
                id: 'ikan-1',
                category: 'ikan',
                title: 'Ikan Lele Segar',
                description: [
					'Ikan lele segar dari kolam lokal, kaya protein dan omega-3'
				],
                price: 24000,
                unit: 'kg',
                image: 'images/ikan/ikan-lele.jpg',
                fallbackEmoji: 'üêü',
                stock: 'available',
                stockCount: 20,
				isPromo: false,
                isNew: true,
				videoUrl: 'https://www.youtube.com/watch?v=BBxC_tqT1z0',
                hasVideo: true,
				photos: [
                    { url: 'images/ikan/beras-sphp-1.jpg', caption: 'Beras SPHP Bulog kemasan 5kg dengan kualitas premium' },
                    { url: 'images/ikan/beras-sphp-2.jpg', caption: 'Butiran beras yang pulen dan wangi khas' },
                    { url: 'images/ikan/beras-sphp-3.jpg', caption: 'Proses penggilingan modern untuk menjaga kualitas' }
                ]
            },
            {
                id: 'ikan-2',
                category: 'ikan',
                title: 'Ikan Nila Segar',
                description: [
					'Ikan nila segar dengan daging putih dan rasa yang lezat'
				],
                price: 30000,
                unit: 'kg',
                image: 'images/ikan/ikan-nila.jpg',
                fallbackEmoji: 'üêü',
                stock: 'available',
                stockCount: 18,
				isPromo: false,
                isNew: true,
				videoUrl: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
                hasVideo: false,
				photos: [
                    { url: 'images/ikan/beras-sphp-1.jpg', caption: 'Beras SPHP Bulog kemasan 5kg dengan kualitas premium' },
                    { url: 'images/ikan/beras-sphp-2.jpg', caption: 'Butiran beras yang pulen dan wangi khas' },
                    { url: 'images/ikan/beras-sphp-3.jpg', caption: 'Proses penggilingan modern untuk menjaga kualitas' }
                ]
            },
            {
                id: 'ikan-3',
                category: 'ikan',
                title: 'Ikan Gurame',
                description: [
					'Ikan gurame premium dengan daging tebal dan gurih'
				],
                price: 35000,
                unit: 'kg',
                image: 'images/ikan/ikan-gurame.jpg',
                fallbackEmoji: 'üêü',
                stock: 'out',
                stockCount: 0,
				isPromo: false,
                isNew: true,
				videoUrl: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
                hasVideo: false,
				photos: [
                    { url: 'images/ikan/beras-sphp-1.jpg', caption: 'Beras SPHP Bulog kemasan 5kg dengan kualitas premium' },
                    { url: 'images/ikan/beras-sphp-2.jpg', caption: 'Butiran beras yang pulen dan wangi khas' },
                    { url: 'images/ikan/beras-sphp-3.jpg', caption: 'Proses penggilingan modern untuk menjaga kualitas' }
                ]
            },
            {
                id: 'ikan-4',
                category: 'ikan',
                title: 'Ikan Bandeng',
                description: [
					'Ikan bandeng segar khas lokal dengan cita rasa yang lezat'
				],
                price: 22000,
                unit: 'kg',
                image: 'images/ikan/ikan-bandeng.jpg',
                fallbackEmoji: 'üêü',
                stock: 'out',
                stockCount: 0,
				isPromo: false,
                isNew: true,
				videoUrl: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
                hasVideo: false,
				photos: [
                    { url: 'images/ikan/beras-sphp-1.jpg', caption: 'Beras SPHP Bulog kemasan 5kg dengan kualitas premium' },
                    { url: 'images/ikan/beras-sphp-2.jpg', caption: 'Butiran beras yang pulen dan wangi khas' },
                    { url: 'images/ikan/beras-sphp-3.jpg', caption: 'Proses penggilingan modern untuk menjaga kualitas' }
                ]
            },

            // Daging
            {
                id: 'daging-1',
                category: 'daging',
                title: 'Daging Sapi Segar',
                description: [
					'Daging sapi lokal berkualitas premium untuk kebutuhan keluarga'
				],
                price: 120000,
                unit: 'kg',
                image: 'images/daging/daging-sapi.jpg',
                fallbackEmoji: 'ü•©',
                stock: 'out',
                stockCount: 0,
				isPromo: false,
                isNew: true,
				videoUrl: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
                hasVideo: false,
				photos: [
                    { url: 'images/daging/beras-sphp-1.jpg', caption: 'Beras SPHP Bulog kemasan 5kg dengan kualitas premium' },
                    { url: 'images/daging/beras-sphp-2.jpg', caption: 'Butiran beras yang pulen dan wangi khas' },
                    { url: 'images/daging/beras-sphp-3.jpg', caption: 'Proses penggilingan modern untuk menjaga kualitas' }
                ]
            },
            {
                id: 'daging-2',
                category: 'daging',
                title: 'Daging Kambing',
                description: [
					'Daging kambing segar untuk masakan tradisional dan modern'
				],
                price: 110000,
                unit: 'kg',
                image: 'images/daging/daging-kambing.jpg',
                fallbackEmoji: 'ü•©',
                stock: 'out',
                stockCount: 0,
				isPromo: false,
                isNew: true,
				videoUrl: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
                hasVideo: false,
				photos: [
                    { url: 'images/daging/beras-sphp-1.jpg', caption: 'Beras SPHP Bulog kemasan 5kg dengan kualitas premium' },
                    { url: 'images/daging/beras-sphp-2.jpg', caption: 'Butiran beras yang pulen dan wangi khas' },
                    { url: 'images/daging/beras-sphp-3.jpg', caption: 'Proses penggilingan modern untuk menjaga kualitas' }
                ]
            },
            {
                id: 'daging-3',
                category: 'daging',
                title: 'Daging Ayam Kampung',
                description: [
					'Ayam kampung asli dengan daging yang gurih dan sehat'
				],
                price: 85000,
                unit: 'kg',
                image: 'images/daging/ayam-kampung.jpg',
                fallbackEmoji: 'üêî',
                stock: 'out',
                stockCount: 0,
				isPromo: false,
                isNew: true,
				videoUrl: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
                hasVideo: false,
				photos: [
                    { url: 'images/daging/beras-sphp-1.jpg', caption: 'Beras SPHP Bulog kemasan 5kg dengan kualitas premium' },
                    { url: 'images/daging/beras-sphp-2.jpg', caption: 'Butiran beras yang pulen dan wangi khas' },
                    { url: 'images/daging/beras-sphp-3.jpg', caption: 'Proses penggilingan modern untuk menjaga kualitas' }
                ]
            },
            {
                id: 'daging-4',
                category: 'daging',
                title: 'Daging Bebek',
                description: [
					'Daging bebek segar untuk berbagai olahan kuliner nusantara'
				],
                price: 75000,
                unit: 'kg',
                image: 'images/daging/daging-bebek.jpg',
                fallbackEmoji: 'ü¶Ü',
                stock: 'out',
                stockCount: 0,
				isPromo: false,
                isNew: true,
				videoUrl: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
                hasVideo: false,
				photos: [
                    { url: 'images/daging/beras-sphp-1.jpg', caption: 'Beras SPHP Bulog kemasan 5kg dengan kualitas premium' },
                    { url: 'images/daging/beras-sphp-2.jpg', caption: 'Butiran beras yang pulen dan wangi khas' },
                    { url: 'images/daging/beras-sphp-3.jpg', caption: 'Proses penggilingan modern untuk menjaga kualitas' }
                ]
            },

            // Telur
            {
                id: 'telur-1',
                category: 'telur',
                title: 'Telur Ayam Kampung',
                description: [
					'Telur ayam kampung asli dengan kuning telur orange dan bergizi tinggi'
				],
                price: 2500,
                unit: 'butir',
                image: 'images/telur/telur-ayam-kampung.jpg',
                fallbackEmoji: 'ü•ö',
                stock: 'out',
                stockCount: 0,
				isPromo: false,
                isNew: true,
				videoUrl: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
                hasVideo: false,
				photos: [
                    { url: 'images/telur/beras-sphp-1.jpg', caption: 'Beras SPHP Bulog kemasan 5kg dengan kualitas premium' },
                    { url: 'images/telur/beras-sphp-2.jpg', caption: 'Butiran beras yang pulen dan wangi khas' },
                    { url: 'images/telur/beras-sphp-3.jpg', caption: 'Proses penggilingan modern untuk menjaga kualitas' }
                ]
            },
            {
                id: 'telur-2',
                category: 'telur',
                title: 'Telur Ayam Ras',
                description: [
					'Telur ayam ras segar untuk kebutuhan sehari-hari keluarga'
				],
                price: 28000,
                unit: 'kg',
                image: 'images/telur/telur-ayam-ras.jpg',
                fallbackEmoji: 'ü•ö',
                stock: 'available',
                stockCount: 150,
				isPromo: false,
                isNew: true,
				videoUrl: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
                hasVideo: false,
				photos: [
                    { url: 'images/telur/beras-sphp-1.jpg', caption: 'Beras SPHP Bulog kemasan 5kg dengan kualitas premium' },
                    { url: 'images/telur/beras-sphp-2.jpg', caption: 'Butiran beras yang pulen dan wangi khas' },
                    { url: 'images/telur/beras-sphp-3.jpg', caption: 'Proses penggilingan modern untuk menjaga kualitas' }
                ]
            },
            {
                id: 'telur-3',
                category: 'telur',
                title: 'Telur Bebek',
                description: [
					'Telur bebek segar cocok untuk membuat kue dan masakan tradisional'
				],
                price: 2800,
                unit: 'butir',
                image: 'images/telur/telur-bebek.jpg',
                fallbackEmoji: 'ü•ö',
                stock: 'available',
                stockCount: 60,
				isPromo: false,
                isNew: true,
				videoUrl: 'https://www.youtube.com/watch?v=fnN2i7n6Mig',
                hasVideo: true,
				photos: [
                    { url: 'images/telur/beras-sphp-1.jpg', caption: 'Beras SPHP Bulog kemasan 5kg dengan kualitas premium' },
                    { url: 'images/telur/beras-sphp-2.jpg', caption: 'Butiran beras yang pulen dan wangi khas' },
                    { url: 'images/telur/beras-sphp-3.jpg', caption: 'Proses penggilingan modern untuk menjaga kualitas' }
                ]
            },
            {
                id: 'telur-4',
                category: 'telur',
                title: 'Telur Puyuh',
                description: [
					'Telur puyuh kecil yang bergizi tinggi dan cocok untuk camilan'
				],
                price: 1000,
                unit: 'butir',
                image: 'images/telur/telur-puyuh.jpg',
                fallbackEmoji: 'ü•ö',
                stock: 'out',
                stockCount: 0,
				isPromo: false,
                isNew: true,
				videoUrl: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
                hasVideo: false,
				photos: [
                    { url: 'images/telur/beras-sphp-1.jpg', caption: 'Beras SPHP Bulog kemasan 5kg dengan kualitas premium' },
                    { url: 'images/telur/beras-sphp-2.jpg', caption: 'Butiran beras yang pulen dan wangi khas' },
                    { url: 'images/telur/beras-sphp-3.jpg', caption: 'Proses penggilingan modern untuk menjaga kualitas' }
                ]
            },

            // Olahan
            {
                id: 'olahan-1',
                category: 'olahan',
                title: 'Tempe Kedelai',
                description: [
					'Tempe kedelai organik hasil fermentasi tradisional yang sehat'
				],
                price: 3000,
                unit: 'papan',
                image: 'images/olahan/tempe-organik.jpg',
                fallbackEmoji: 'üçú',
                stock: 'available',
                stockCount: 30,
				isPromo: false,
                isNew: true,
				videoUrl: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
                hasVideo: false,
				photos: [
                    { url: 'images/olahan/beras-sphp-1.jpg', caption: 'Beras SPHP Bulog kemasan 5kg dengan kualitas premium' },
                    { url: 'images/olahan/beras-sphp-2.jpg', caption: 'Butiran beras yang pulen dan wangi khas' },
                    { url: 'images/olahan/beras-sphp-3.jpg', caption: 'Proses penggilingan modern untuk menjaga kualitas' }
                ]
            },
            {
                id: 'olahan-2',
                category: 'olahan',
                title: 'Tahu Putih',
                description: [
					'Tahu putih segar dibuat dengan kedelai berkualitas tinggi'
				],
                price: 5000,
                unit: 'papan',
                image: 'images/olahan/tahu-putih.jpg',
                fallbackEmoji: 'üçú',
                stock: 'available',
                stockCount: 40,
				isPromo: false,
                isNew: true,
				videoUrl: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
                hasVideo: false,
				photos: [
                    { url: 'images/olahan/beras-sphp-1.jpg', caption: 'Beras SPHP Bulog kemasan 5kg dengan kualitas premium' },
                    { url: 'images/olahan/beras-sphp-2.jpg', caption: 'Butiran beras yang pulen dan wangi khas' },
                    { url: 'images/olahan/beras-sphp-3.jpg', caption: 'Proses penggilingan modern untuk menjaga kualitas' }
                ]
            },
            {
                id: 'olahan-3',
                category: 'olahan',
                title: 'Kerupuk Ikan',
                description: [
					'Kerupuk ikan tradisional dengan rasa gurih dan renyah'
				],
                price: 15000,
                unit: 'pack',
                image: 'images/olahan/kerupuk-ikan.jpg',
                fallbackEmoji: 'üçò',
                stock: 'out',
                stockCount: 0,
				isPromo: false,
                isNew: true,
				videoUrl: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
                hasVideo: false,
				photos: [
                    { url: 'images/olahan/beras-sphp-1.jpg', caption: 'Beras SPHP Bulog kemasan 5kg dengan kualitas premium' },
                    { url: 'images/olahan/beras-sphp-2.jpg', caption: 'Butiran beras yang pulen dan wangi khas' },
                    { url: 'images/olahan/beras-sphp-3.jpg', caption: 'Proses penggilingan modern untuk menjaga kualitas' }
                ]
            },
            {
                id: 'olahan-4',
                category: 'olahan',
                title: 'Sambal Pecel',
                description: [
					'Sambal pecel khas dengan bumbu rempah pilihan yang autentik'
				],
                price: 30000,
                unit: 'pack',
                image: 'images/olahan/sambal-pecel.jpg',
                fallbackEmoji: 'üå∂Ô∏è',
                stock: 'out',
                stockCount: 0,
				isPromo: false,
                isNew: true,
				videoUrl: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
                hasVideo: false,
				photos: [
                    { url: 'images/olahan/beras-sphp-1.jpg', caption: 'Beras SPHP Bulog kemasan 5kg dengan kualitas premium' },
                    { url: 'images/olahan/beras-sphp-2.jpg', caption: 'Butiran beras yang pulen dan wangi khas' },
                    { url: 'images/olahan/beras-sphp-3.jpg', caption: 'Proses penggilingan modern untuk menjaga kualitas' }
                ]
            },
            {
                id: 'olahan-5',
                category: 'olahan',
                title: 'Cireng Ayam Pedas',
                description: [
					'Cireng dengan isi daging ayam suwir pedas. Bisa digoreng atau mentah'
				],
                price: 1000,
                unit: 'pcs',
                image: 'images/olahan/cireng-ayam-pedas.jpg',
                fallbackEmoji: 'üå∂Ô∏è',
                stock: 'out',
                stockCount: 0,
				isPromo: false,
                isNew: true,
				videoUrl: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
                hasVideo: false,
				photos: [
                    { url: 'images/olahan/beras-sphp-1.jpg', caption: 'Beras SPHP Bulog kemasan 5kg dengan kualitas premium' },
                    { url: 'images/olahan/beras-sphp-2.jpg', caption: 'Butiran beras yang pulen dan wangi khas' },
                    { url: 'images/olahan/beras-sphp-3.jpg', caption: 'Proses penggilingan modern untuk menjaga kualitas' }
                ]
            },
            {
                id: 'olahan-6',
                category: 'olahan',
                title: 'Peyek Kacang Tanah',
                description: [
					'Peyek renyah'
				],
                price: 10000,
                unit: 'bungkus',
                image: 'images/olahan/peyek-kacang-tanah.jpg',
                fallbackEmoji: 'üå∂Ô∏è',
                stock: 'available',
                stockCount: 20,
				isPromo: false,
                isNew: true,
				videoUrl: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
                hasVideo: false,
				photos: [
                    { url: 'images/olahan/beras-sphp-1.jpg', caption: 'Beras SPHP Bulog kemasan 5kg dengan kualitas premium' },
                    { url: 'images/olahan/beras-sphp-2.jpg', caption: 'Butiran beras yang pulen dan wangi khas' },
                    { url: 'images/olahan/beras-sphp-3.jpg', caption: 'Proses penggilingan modern untuk menjaga kualitas' }
                ]
            },
            {
                id: 'olahan-6',
                category: 'olahan',
                title: 'Peyek Kacang Tholo',
                description: [
					'Peyek renyah'
				],
                price: 10000,
                unit: 'bungkus',
                image: 'images/olahan/peyek-kacang-tholo.jpg',
                fallbackEmoji: 'üå∂Ô∏è',
                stock: 'available',
                stockCount: 20,
				isPromo: false,
                isNew: true,
				videoUrl: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
                hasVideo: false,
				photos: [
                    { url: 'images/olahan/beras-sphp-1.jpg', caption: 'Beras SPHP Bulog kemasan 5kg dengan kualitas premium' },
                    { url: 'images/olahan/beras-sphp-2.jpg', caption: 'Butiran beras yang pulen dan wangi khas' },
                    { url: 'images/olahan/beras-sphp-3.jpg', caption: 'Proses penggilingan modern untuk menjaga kualitas' }
                ]
            },
            
            // Lain-lain
            {
                id: 'lainlain-1',
                category: 'lainlain',
                title: 'Gas Melon',
                description: [
					'Tabung gas melon untuk kebutuhan masak sehari-hari'
				],
                price: 21000,
                unit: 'tabung',
                image: 'images/lainlain/gas-melon.jpg',
                fallbackEmoji: '‚õΩ',
                stock: 'available',
                stockCount: 15,
				isPromo: false,
                isNew: true,
				videoUrl: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
                hasVideo: false,
				photos: [
                    { url: 'images/lainlain/beras-sphp-1.jpg', caption: 'Beras SPHP Bulog kemasan 5kg dengan kualitas premium' },
                    { url: 'images/lainlain/beras-sphp-2.jpg', caption: 'Butiran beras yang pulen dan wangi khas' },
                    { url: 'images/lainlain/beras-sphp-3.jpg', caption: 'Proses penggilingan modern untuk menjaga kualitas' }
                ]
            },
            {
                id: 'lainlain-2',
                category: 'lainlain',
                title: 'Materai',
                description: [
					'Materai resmi untuk keperluan dokumen dan surat-surat penting'
				],
                price: 12000,
                unit: 'pcs',
                image: 'images/lainlain/materai.jpg',
                fallbackEmoji: 'üìã',
                stock: 'available',
                stockCount: 100,
				isPromo: false,
                isNew: true,
				videoUrl: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
                hasVideo: false,
				photos: [
                    { url: 'images/lainlain/beras-sphp-1.jpg', caption: 'Beras SPHP Bulog kemasan 5kg dengan kualitas premium' },
                    { url: 'images/lainlain/beras-sphp-2.jpg', caption: 'Butiran beras yang pulen dan wangi khas' },
                    { url: 'images/lainlain/beras-sphp-3.jpg', caption: 'Proses penggilingan modern untuk menjaga kualitas' }
                ]
            },
            {
                id: 'lainlain-3',
                category: 'lainlain',
                title: 'Tepung Terigu',
                description: [
					'Tepung terigu berkualitas untuk membuat berbagai kue dan masakan'
				],
                price: 5000,
                unit: 'kg',
                image: 'images/lainlain/tepung-terigu.jpg',
                fallbackEmoji: 'üåæ',
                stock: 'out',
                stockCount: 0,
				isPromo: false,
                isNew: true,
				videoUrl: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
                hasVideo: false,
				photos: [
                    { url: 'images/lainlain/beras-sphp-1.jpg', caption: 'Beras SPHP Bulog kemasan 5kg dengan kualitas premium' },
                    { url: 'images/lainlain/beras-sphp-2.jpg', caption: 'Butiran beras yang pulen dan wangi khas' },
                    { url: 'images/lainlain/beras-sphp-3.jpg', caption: 'Proses penggilingan modern untuk menjaga kualitas' }
                ]
            },
            {
                id: 'lainlain-4',
                category: 'lainlain',
                title: 'Buku Tulis',
                description: [
					'Buku tulis untuk kebutuhan sekolah dan kantor'
				],
                price: 6000,
                unit: 'pcs',
                image: 'images/lainlain/buku-tulis.jpg',
                fallbackEmoji: 'üìì',
                stock: 'out',
                stockCount: 0,
				isPromo: false,
                isNew: true,
				videoUrl: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
                hasVideo: false,
				photos: [
                    { url: 'images/lainlain/beras-sphp-1.jpg', caption: 'Beras SPHP Bulog kemasan 5kg dengan kualitas premium' },
                    { url: 'images/lainlain/beras-sphp-2.jpg', caption: 'Butiran beras yang pulen dan wangi khas' },
                    { url: 'images/lainlain/beras-sphp-3.jpg', caption: 'Proses penggilingan modern untuk menjaga kualitas' }
                ]
            },
		];

        // State management menggunakan memori JavaScript
        let cart = [];
        let selectedAdminPhone = adminList[0].phone;
        
        const cartCountDesktop = document.getElementById('cartCountDesktop');
        const cartCountMobile = document.getElementById('cartCountMobile');
        const cartItemsContainer = document.getElementById('cartItemsContainer');
        const cartTotalAmount = document.getElementById('cartTotalAmount');
        const emptyCartMessage = document.getElementById('emptyCartMessage');
        const cartModal = document.getElementById('cartModal');
        const notification = document.getElementById('notification');
		const galleryModal = document.getElementById('galleryModal');

        function updateCartCount() {
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            cartCountDesktop.innerText = totalItems;
            cartCountMobile.innerText = totalItems;
        }

        function formatRupiah(number) {
            return new Intl.NumberFormat('id-ID', { 
                style: 'currency', 
                currency: 'IDR', 
                minimumFractionDigits: 0 
            }).format(number);
        }

        function showNotification(message, isError = false) {
            const notificationText = document.getElementById('notificationText');
            notificationText.innerText = message;
            notification.className = `notification ${isError ? 'error' : ''} show`;
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        function getBadges(product) {
            let badges = '';
            
            if (product.stockCount === 0 || product.stock === 'out') {
                badges += '<div class="badge stock-badge stock-out">Habis</div>';
            } else if (product.stockCount <= 10 || product.stock === 'low') {
                badges += '<div class="badge stock-badge stock-low">Stok Terbatas</div>';
            } else {
                badges += '<div class="badge stock-badge stock-available">Tersedia</div>';
            }
            
            if (product.isPromo) {
                badges += '<div class="badge promo-badge">PROMO</div>';
            }
            
            if (product.isNew) {
                badges += '<div class="badge new-badge">BARU</div>';
            }
            
            return badges;
        }
		
		function openGallery(productId) {
            const product = productGallery.find(p => p.id === productId);
            if (!product) return;

            document.getElementById('galleryTitle').innerText = `Galeri Foto - ${product.title}`;
            document.getElementById('gallerySubtitle').innerText = `${product.category.toUpperCase()} | ${formatRupiah(product.price)}/${product.unit}`;
            
            const photoGalleryGrid = document.getElementById('photoGalleryGrid');
            photoGalleryGrid.innerHTML = '';
            
            const photos = product.photos || [];
            
            if (photos.length === 0) {
                photoGalleryGrid.innerHTML = '<div class="gallery-empty"><div class="gallery-empty-icon">üì∑</div><p>Belum ada foto galeri untuk produk ini</p></div>';
            } else {
                photos.forEach((photo, index) => {
                    const photoItem = document.createElement('div');
                    photoItem.className = 'photo-gallery-item';
                    photoItem.innerHTML = `
                        <img src="${photo.url}" alt="${product.title} - Foto ${index + 1}" 
                             onerror="this.parentElement.innerHTML='<div style=\\'padding: 80px 20px; text-align: center; color: #999; background: #f8f9fa;\\'>üì∑<br>Foto tidak tersedia</div>'">
                        <div class="photo-gallery-item-info">
                            <h4>Foto ${index + 1}</h4>
                            <p>${photo.caption}</p>
                        </div>
                    `;
                    photoGalleryGrid.appendChild(photoItem);
                });
            }
            galleryModal.style.display = 'block';
        }

        function closeGallery() {
            galleryModal.style.display = 'none';
        }

        function changeQuantity(productId, change) {
            const quantityInput = document.getElementById(`quantity-${productId}`);
            let currentQuantity = parseInt(quantityInput.value);
            const product = productGallery.find(p => p.id === productId);
            
            currentQuantity += change;
            if (currentQuantity < 1) {
                currentQuantity = 1;
            }
            if (currentQuantity > product.stockCount) {
                currentQuantity = product.stockCount;
                showNotification(`Stok ${product.title} hanya tersisa ${product.stockCount}`, true);
            }
            quantityInput.value = currentQuantity;
        }

        function addToCart(productId) {
            const product = productGallery.find(p => p.id === productId);
            const quantityInput = document.getElementById(`quantity-${productId}`);
            const quantity = parseInt(quantityInput.value);
            
            if (product.stockCount === 0) {
                showNotification('Produk ini sedang habis', true);
                return;
            }
            
            if (quantity > product.stockCount) {
                showNotification(`Stok ${product.title} hanya tersisa ${product.stockCount}`, true);
                return;
            }
            
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                const newQuantity = existingItem.quantity + quantity;
                if (newQuantity > product.stockCount) {
                    showNotification(`Total tidak boleh melebihi stok yang tersedia (${product.stockCount})`, true);
                    return;
                }
                existingItem.quantity = newQuantity;
            } else {
                cart.push({
                    id: productId,
                    title: product.title,
                    price: product.price,
                    unit: product.unit,
                    quantity: quantity,
                    image: product.image,
                    fallbackEmoji: product.fallbackEmoji
                });
            }
            
            updateCartCount();
            showNotification(`${quantity} ${product.unit} ${product.title} ditambahkan ke keranjang!`);
            quantityInput.value = 1;
        }

        function renderAdminSelection() {
            const adminGrid = document.getElementById('adminGrid');
            adminGrid.innerHTML = '';
            adminList.forEach(admin => {
                const adminCard = document.createElement('div');
                adminCard.className = `admin-card ${selectedAdminPhone === admin.phone ? 'selected' : ''}`;
                adminCard.onclick = () => selectAdmin(admin.phone);
                adminCard.innerHTML = `
                    <div class="admin-name">${admin.name}</div>
                    <div class="admin-phone">${admin.role}</div>
                    <div class="admin-status">${admin.status}</div>
                `;
                adminGrid.appendChild(adminCard);
            });
        }

        function selectAdmin(phone) {
            selectedAdminPhone = phone;
            renderAdminSelection();
        }

        function renderGallery(filter = 'all') {
            const galleryGrid = document.getElementById('galleryGrid');
            galleryGrid.innerHTML = '';
            
            const filteredProducts = filter === 'all' 
                ? productGallery 
                : productGallery.filter(product => product.category === filter);
            
            filteredProducts.forEach(product => {
                const galleryItem = document.createElement('div');
                galleryItem.className = 'gallery-item';
                galleryItem.dataset.category = product.category;
                
                const isOutOfStock = product.stockCount === 0;
                
                const descriptionHtml = `
                    <ul class="description-list">
                        ${product.description.map(desc => `<li>${desc}</li>`).join('')}
                    </ul>
                `;
                
                const videoHtml = product.hasVideo && product.videoUrl ? `
                    <div class="item-video">
                        <a href="${product.videoUrl}" target="_blank" class="video-link">
                            ‚ñ∂Ô∏è Tonton Video Produk
                        </a>
                    </div>
                ` : '';
                
                galleryItem.innerHTML = `
                    <div class="gallery-item-image">
                        <img src="${product.image}" alt="${product.title}" 
                             onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                        <div class="product-image-placeholder" style="display: none; font-size: 4rem; color: #adb5bd; display: flex; align-items: center; justify-content: center; height: 100%;">${product.fallbackEmoji}</div>
                        <div class="badges-container">${getBadges(product)}</div>
						<button class="photo-gallery-btn" onclick="openGallery('${product.id}')" title="Lihat Galeri Foto">üì∑</button>
                    </div>
                    <div class="gallery-item-content">
                        <div class="item-category">${product.category}</div>
                        <h3 class="item-title">${product.title}</h3>
                        <div class="item-description">
                            ${descriptionHtml}
                        </div>
                        ${videoHtml}
                        <div class="item-price">${formatRupiah(product.price)}/${product.unit}</div>
                        <div class="quantity-selector">
                            <span class="quantity-label">Jumlah:</span>
                            <div class="quantity-controls">
                                <button class="quantity-btn" onclick="changeQuantity('${product.id}', -1)" ${isOutOfStock ? 'disabled' : ''}>-</button>
                                <input type="number" id="quantity-${product.id}" value="1" min="1" max="${product.stockCount}" class="quantity-input" ${isOutOfStock ? 'disabled' : ''}>
                                <button class="quantity-btn" onclick="changeQuantity('${product.id}', 1)" ${isOutOfStock ? 'disabled' : ''}>+</button>
                            </div>
                        </div>
                        <button class="add-to-cart-btn" onclick="addToCart('${product.id}')" ${isOutOfStock ? 'disabled' : ''}>
                            ${isOutOfStock ? '‚ùå Habis' : 'üõí Tambah ke Keranjang'}
                        </button>
                    </div>
                `;
                
                galleryGrid.appendChild(galleryItem);
            });
        }

        function filterGallery(category) {
            renderGallery(category);
            
            document.querySelectorAll('.category-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelector(`.category-btn[onclick="filterGallery('${category}')"]`).classList.add('active');
        }

        function renderCartItems() {
            cartItemsContainer.innerHTML = '';
            let total = 0;
            
            if (cart.length === 0) {
                emptyCartMessage.classList.remove('hidden');
                document.querySelector('.cart-total').classList.add('hidden');
            } else {
                emptyCartMessage.classList.add('hidden');
                document.querySelector('.cart-total').classList.remove('hidden');
                
                cart.forEach((item, index) => {
                    const itemTotal = item.price * item.quantity;
                    total += itemTotal;
                    const itemDiv = document.createElement('div');
                    itemDiv.classList.add('cart-item');
                    itemDiv.innerHTML = `
                        <div class="cart-item-info">
                            <div class="cart-item-title">${item.title}</div>
                            <div class="cart-item-details">${formatRupiah(item.price)}/${item.unit}</div>
                            <div class="cart-item-quantity">
                                <button class="cart-quantity-btn" onclick="updateCartItemQuantity(${index}, -1)">-</button>
                                <span>${item.quantity} ${item.unit}</span>
                                <button class="cart-quantity-btn" onclick="updateCartItemQuantity(${index}, 1)">+</button>
                            </div>
                        </div>
                        <span class="cart-item-price">${formatRupiah(itemTotal)}</span>
                        <button class="cart-item-remove" onclick="removeCartItem(${index})">Hapus</button>
                    `;
                    cartItemsContainer.appendChild(itemDiv);
                });
            }
            cartTotalAmount.innerText = formatRupiah(total);
        }

        function updateCartItemQuantity(index, change) {
            const item = cart[index];
            const product = productGallery.find(p => p.id === item.id);
            
            item.quantity += change;
            if (item.quantity <= 0) {
                removeCartItem(index);
            } else if (item.quantity > product.stockCount) {
                item.quantity = product.stockCount;
                showNotification(`Stok ${product.title} hanya tersisa ${product.stockCount}`, true);
                renderCartItems();
                updateCartCount();
            } else {
                renderCartItems();
                updateCartCount();
            }
        }

        function removeCartItem(index) {
            cart.splice(index, 1);
            renderCartItems();
            updateCartCount();
        }

        function openCart() {
            renderCartItems();
            renderAdminSelection();
            cartModal.style.display = 'block';
        }

        function closeCart() {
            cartModal.style.display = 'none';
        }

        function clearCart() {
            cart = [];
            renderCartItems();
            updateCartCount();
            showNotification('Keranjang belanja berhasil dikosongkan.');
        }

        function checkout() {
            if (cart.length === 0) {
                showNotification('Keranjang Anda kosong. Tambahkan produk untuk checkout.', true);
                return;
            }

            const selectedAdmin = adminList.find(admin => admin.phone === selectedAdminPhone);
            let message = `Halo ${selectedAdmin.name}, saya ingin memesan produk berikut:\n\n`;
            let total = 0;

            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                message += `- ${item.quantity} ${item.unit} ${item.title} - ${formatRupiah(itemTotal)}\n`;
            });

            message += `\nTotal Belanja: ${formatRupiah(total)}`;
            message += `\n\nNama: [Isi nama Anda]\nAlamat: [Isi alamat Anda]\nCatatan: [Isi catatan tambahan jika ada]`;

            const whatsappUrl = `https://wa.me/${selectedAdminPhone}?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
        }

        document.addEventListener('DOMContentLoaded', () => {
            updateCartCount();
            renderGallery();
        });

        window.onclick = function(event) {
            if (event.target === cartModal) {
                closeCart();
            }
        }
    </script>

</body>
</html>
